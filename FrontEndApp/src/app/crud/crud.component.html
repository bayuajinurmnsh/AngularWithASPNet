<nav class="navbar navbar-light bg-default">
    <div class="container-fluid">
        <h1> Angular CRUD</h1>
    </div>
</nav>

<div class="container-fluid">
  <div class="btn d-flex">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"> Add Data</button>
  </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Title</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Role</th>
            <th scope="col">Email</th>
            <th scope="col">action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor = "let item of DataModelLoad">
            <td> {{item.id}}</td>
            <td>{{item.title}}</td>
            <td> {{item.firstName}}</td>
            <td>{{item.lastName}}</td>
            <td>{{item.role}}</td>
            <td>{{item.email}}</td>
            <td>

                <button (click)="onEdit(item)" class="btn btn-info" data-toggle="modal" data-target="#editModal">Edit</button>
                <button (click)="deleteData(item)" class="btn btn-danger mx-3">Delete</button>
            </td>
        </tr>
    </tbody>
</table>

  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Tambah Data</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
          <form [formGroup] = "form.inputData" (ngSubmit)="tambahData()">
            
            <div class="form-group">
              <label >Title</label>
              <input type="text" class="form-control" id="title" placeholder="Enter title" name="title" formControlName="title" required>
              <small *ngIf="Title && Title.touched && Title.invalid" class="small-class form-text">Minimum length is 5 characters.</small>
            </div>

            <div class="form-group">
              <label >Firstname</label>
              <input type="text" class="form-control" id="firstname" placeholder="Enter firstname" name="firstname" formControlName="firstname" required>
              <small *ngIf="Firstname && Firstname.touched && Firstname.invalid" class="small-class form-text">Minimum length is 3 characters.</small>
            </div>

            <div class="form-group">
              <label >Lastname</label>
              <input type="text" class="form-control" id="lastname" placeholder="Enter lastname" name="lastname" formControlName="lastname" required>
              <small *ngIf="Lastname && Lastname.touched && Lastname.invalid" class="small-class form-text">Minimum length is 3 characters.</small>
            </div>

            <div class="form-group">
              <label >Email</label>
              <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" formControlName="email" required>
              <small *ngIf="Email && Email.touched && Email.invalid" class="small-class form-text">Input a valid email.</small>
            </div>

            <div class="form-group">
              <label >Role</label>
              <input type="text" class="form-control" id="role" placeholder="Enter role" name="role" formControlName="role" required>
              <small *ngIf="Role && Role.touched && Role.invalid" class="small-class form-text">Input a valid role 0 or 1</small>
              <small>type 0 for Admin, and 1 for Users</small>
            </div>

            <div class="form-group">
              <label >Password</label>
              <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" formControlName="password" required #pass>
              <small *ngIf="Password && Password.touched && Password.invalid" class="small-class form-text">Minimum length is 6 character</small>
            </div>

            <div class="form-group">
              <label >ConfirmPassword</label>
              <input type="password" class="form-control" id="confirmpassword" placeholder="Enter confirmpassword" name="confirmpassword" formControlName="confirmpassword" required #confpass>
              <small *ngIf="ConfirmPassword && ConfirmPassword.touched && ConfirmPassword.invalid" class="small-class form-text">Minimum length is 6 character</small>
              <small *ngIf="confpass.value != pass?.value" class="small-class form-text" >Password and Confirm Password match match</small>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
          </form>

        </div>
        <div class="modal-footer">
          <button id="cancel" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal EDIT -->
  <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit Data</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
          <form [formGroup] = "form.updateData" (ngSubmit)="editData()">
            

            <div class="form-group">
              <label >Title</label>
              <input type="text" class="form-control" id="title" placeholder="Enter title" name="title" formControlName="title" required>
              <small *ngIf="Title && Title.touched && Title.invalid" class="small-class form-text">Minimum length is 5 characters.</small>
            </div>

            <div class="form-group">
              <label >Firstname</label>
              <input type="text" class="form-control" id="firstname" placeholder="Enter firstname" name="firstname" formControlName="firstname" required>
              <small *ngIf="Firstname && Firstname.touched && Firstname.invalid" class="small-class form-text">Minimum length is 3 characters.</small>
            </div>

            <div class="form-group">
              <label >Lastname</label>
              <input type="text" class="form-control" id="lastname" placeholder="Enter lastname" name="lastname" formControlName="lastname" required>
              <small *ngIf="Lastname && Lastname.touched && Lastname.invalid" class="small-class form-text">Minimum length is 3 characters.</small>
            </div>

            <div class="form-group">
              <label >Email</label>
              <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" formControlName="email" required>
              <small *ngIf="Email && Email.touched && Email.invalid" class="small-class form-text">Input a valid email.</small>
            </div>

            <div class="form-group">
              <label >Role</label>
              <input type="text" class="form-control" id="role" placeholder="Enter role" name="role" formControlName="role" required>
              <small *ngIf="Role && Role.touched && Role.invalid" class="small-class form-text">Input a valid role 0 or 1</small>
              <small>type 0 for Admin, and 1 for Users</small>
            </div>

            <div class="form-group">
              <label >Password</label>
              <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" formControlName="password" required #pass2>
              <small *ngIf="Password && Password.touched && Password.invalid" class="small-class form-text">Minimum length is 6 character</small>
            </div>

            <div class="form-group">
              <label >ConfirmPassword</label>
              <input type="password" class="form-control" id="confirmpassword" placeholder="Enter confirmpassword" name="confirmpassword" formControlName="confirmpassword" required #confpass2>
              <small *ngIf="ConfirmPassword && ConfirmPassword.touched && ConfirmPassword.invalid" class="small-class form-text">Minimum length is 6 character</small>
              <small *ngIf="confpass2.value != pass2?.value" class="small-class form-text" >Password and Confirm Password match match</small>
            </div>

            <button type="submit" class="btn btn-primary">Edit Data</button>
          </form>

        </div>
        <div class="modal-footer">
          <button id="cancel2" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>